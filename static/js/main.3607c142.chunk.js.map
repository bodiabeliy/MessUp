{"version":3,"sources":["utils/consts.js","components/Navbar.js","components/Login.js","components/Loader.js","components/Chat.js","routes.js","components/AppRouter.js","App.js","reportWebVitals.js","index.js"],"names":["LOGIN_ROUTE","CHAT_ROUTE","Navbar","authorization","useContext","Context","useAuthState","user","AppBar","className","position","Toolbar","Grid","container","justify","to","Button","onClick","signOut","variant","color","Login","useState","open","setOpen","a","provider","firebase","auth","GoogleAuthProvider","signInWithPopup","console","log","Container","style","height","window","innerHeight","alignItems","p","Box","Dialog","onClose","aria-labelledby","aria-describedby","DialogActions","Loader","class","Chat","publicRoutes","path","Component","privateRoutes","firestore","values","setValue","useCollectionData","collection","orderBy","messages","add","uid","displayName","photoAvatar","photoURL","text","createdAt","FieldValue","serverTimestamp","map","message","background","marginLeft","padding","display","Avatar","src","Typography","direction","width","TextField","fullWidth","rowsMax","value","onChange","e","target","marginTop","AppRouter","component","exect","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","createContext","ReactDOM","render","StrictMode","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.3607c142.chunk.js","sourcesContent":["export const LOGIN_ROUTE = '/login'\r\nexport const CHAT_ROUTE = '/chat'\r\nexport const EXIT = '/'","import React, { Fragment, useContext } from 'react';\r\nimport { Link } from 'react-router-dom'; \r\n\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { CHAT_ROUTE, EXIT } from '../utils/consts';\r\nimport {useAuthState} from 'react-firebase-hooks/auth'\r\nimport {Context} from '../index'\r\n\r\nfunction Navbar() {\r\n\r\n const {authorization} = useContext(Context)\r\n const [user] = useAuthState(authorization)\r\n\r\n return (\r\n  <AppBar className='navbar_container' position=\"static\">\r\n  <Toolbar>\r\n   <Grid container justify={'flex-end'}>\r\n    {user ? \r\n     <Fragment>\r\n      <Link \r\n       className='navbar_link'\r\n       to={CHAT_ROUTE}\r\n       >\r\n        <Button onClick={() => {authorization.signOut()}} className='navbar_logBtn' variant={'outlined'} color=\"inherit\">Выйти</Button>\r\n      </Link>\r\n     </Fragment>\r\n     :\r\n     <Fragment>\r\n     <Link \r\n      className='navbar_link'\r\n      to={EXIT}\r\n      >\r\n     <Button variant={'outlined'} color=\"inherit\">Логин</Button>\r\n     </Link>\r\n    </Fragment>\r\n    }\r\n   </Grid>\r\n\r\n  </Toolbar>\r\n</AppBar>\r\n );\r\n}\r\n\r\nexport default Navbar;","import React, {useContext, useState} from 'react';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport {Context} from '../index'\r\nimport firebase from 'firebase'\r\n\r\nfunction Login() {\r\n\r\n const [open, setOpen] = useState(true);\r\n\r\n  const ShowBtnPopup = () => {\r\n    setOpen(false);\r\n  };\r\n  // useContext - хук для передачи пропсов минуя родительско-дочернюю связь\r\n  const {authorization} = useContext(Context)\r\n  // вхлд с помощью системы\r\n  const Login = async() => {\r\n    const provider = new firebase.auth.GoogleAuthProvider()\r\n    const {user} = await authorization.signInWithPopup(provider)\r\n    console.log(user);\r\n  }\r\n return (\r\n  <div>\r\n   <Container>\r\n   <Grid \r\n    className='form-grid_container' \r\n    container \r\n    style={{height: window.innerHeight - 50}}\r\n    justify={'center'}\r\n    alignItems={'center'}\r\n    >\r\n     <Grid p={5}\r\n      container\r\n      alignItems={'center'}\r\n      justify={'center'}\r\n     >\r\n     <Box>\r\n     <Dialog\r\n        open={open}\r\n        onClose={ShowBtnPopup}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogActions>\r\n          <Button onClick={Login} variant={'outlined'}>Войти с помощью Google</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n     </Box>\r\n     </Grid>\r\n\r\n   </Grid>\r\n   </Container>\r\n  </div>\r\n );\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Container from '@material-ui/core/Container';\r\n\r\n\r\nfunction Loader() {\r\n return (\r\n  <div>\r\n   <Container>\r\n   <Grid \r\n    className='form-grid_container' \r\n    container \r\n    style={{height: window.innerHeight - 50}}\r\n    justify={'center'}\r\n    alignItems={'center'}\r\n    >\r\n     <Grid p={5}\r\n      container\r\n      alignItems={'center'}\r\n      justify={'center'}\r\n     >\r\n      <div class=\"lds-roller\">\r\n       <div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n     </Grid>\r\n\r\n   </Grid>\r\n   </Container>\r\n  </div>\r\n );\r\n}\r\n\r\nexport default Loader;","import React, {useContext, useState} from 'react';\r\nimport {useAuthState} from 'react-firebase-hooks/auth'\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\n\r\nimport {useCollectionData} from 'react-firebase-hooks/firestore'\r\nimport firebase from 'firebase'\r\n\r\nimport Loader from './Loader'\r\nimport {Context} from '../index'\r\n\r\nfunction Chat() {\r\n const {authorization, firestore} = useContext(Context)\r\n const [user] = useAuthState(authorization)\r\n const [values, setValue] = useState('')\r\n const [messages, loading] = useCollectionData(\r\n    firestore.collection('messages').orderBy('createdAt')\r\n  )\r\n // ф-я отправки сообщений\r\n  async function SendMessage () {\r\n   firestore.collection('messages').add({\r\n    uid: user.uid,\r\n    displayName: user.displayName,\r\n    photoAvatar: user.photoURL,\r\n    text: values,\r\n    createdAt: firebase.firestore.FieldValue.serverTimestamp()\r\n   })\r\n   setValue('')\r\n }\r\n\r\n\r\n if (loading) {\r\n  return <Loader />\r\n }\r\n\r\n\r\n return (\r\n  <div>\r\n   <Container>\r\n    <Grid\r\n     container \r\n     style={{height: window.innerHeight - 50}}\r\n     justify={'center'}\r\n     >\r\n      <div className='chat__field'>\r\n        {messages.map(message => \r\n           <div className=\"chat__sendMessage\"\r\n           style={{\r\n            background: user.uid === message.uid ? '#e1e1e1' : '#caa3ff',\r\n            marginLeft: user.uid === message.uid ? '1%' : '39%'\r\n           }}\r\n           >\r\n             <Grid \r\n             container\r\n             style={{\r\n              padding: '10px',\r\n             }}\r\n             >\r\n               <div style={{display: 'flex'}}>\r\n               <Avatar src={message.photoAvatar} />\r\n                 <Typography>\r\n                  <b className='chat__personName'> {message.displayName}</b>\r\n                 </Typography>\r\n               </div>\r\n             </Grid>\r\n             <Typography justify='flex-end' variant=\"p\">\r\n              {message.text}\r\n             </Typography>\r\n          </div>\r\n         )}\r\n      </div>\r\n      <Grid\r\n         container\r\n         direction={'column'}\r\n         alignItems={'flex-end'}\r\n         style={{width: '80%',}}\r\n        >\r\n         <TextField variant={'outlined'} \r\n           fullWidth\r\n           rowsMax={2}\r\n           value={values}\r\n           onChange={e => setValue(e.target.value)}\r\n         />\r\n         <Button \r\n         onClick={SendMessage}\r\n         style={{marginTop: '20px', background: '#a273e4', color: 'white'}} >Отправить</Button>\r\n        </Grid>\r\n    </Grid>\r\n   </Container>\r\n  </div>\r\n );\r\n}\r\n\r\nexport default Chat;","import {CHAT_ROUTE, LOGIN_ROUTE} from './utils/consts'\r\nimport Login from './components/Login'\r\nimport Chat from './components/Chat'\r\n\r\n// все доступные маршуты для пользователей\r\nexport const publicRoutes = [\r\n {\r\n  path: LOGIN_ROUTE,\r\n  Component: Login\r\n }\r\n]\r\n// только для зарегистрированых  пользователей\r\nexport const privateRoutes = [\r\n {\r\n  path: CHAT_ROUTE,\r\n  Component: Chat\r\n }\r\n \r\n]","import React, {useContext} from 'react';\r\nimport {Route, Switch, Redirect} from 'react-router-dom'\r\nimport {privateRoutes, publicRoutes} from '../routes'\r\nimport { CHAT_ROUTE, LOGIN_ROUTE } from '../utils/consts';\r\nimport {useAuthState} from 'react-firebase-hooks/auth'\r\nimport {Context} from '../index'\r\n\r\nfunction AppRouter() {\r\n // рендеринг страницы для зарегистрированого пользователя \r\n const {authorization} = useContext(Context)\r\n const [user] = useAuthState(authorization)\r\n console.log(user);\r\n return user ? \r\n   (\r\n    <Switch>\r\n     {privateRoutes.map(({path, Component}) => \r\n      <Route key={path} path={path} component={Component} exect={true} />\r\n     )}\r\n     <Redirect to={CHAT_ROUTE} />\r\n    </Switch>\r\n   )\r\n   :\r\n    // рендеринг страницы для зарегистрированого пользователя \r\n   (\r\n    <Switch>\r\n      {publicRoutes.map(({path, Component}) => \r\n        <Route key={path} path={path} component={Component} exect={true} />\r\n      )}\r\n      <Redirect to={LOGIN_ROUTE} />\r\n    </Switch>\r\n   )\r\n}\r\n\r\nexport default AppRouter;","import React, {useContext} from 'react';\nimport { BrowserRouter } from 'react-router-dom'; \nimport {useAuthState} from 'react-firebase-hooks/auth'\nimport Navbar from './components/Navbar'\nimport AppRouter from './components/AppRouter'\nimport {Context} from './index'\n\nimport Loader from './components/Loader'\n\n\nfunction App() {\n  const {authorization} = useContext(Context)\n  const [loading] = useAuthState(authorization)\n  // заставка preloader-a \n  if (loading) {\n    <Loader />\n  }\n  return (\n    <BrowserRouter>\n      <Navbar />\n      <AppRouter />\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { createContext } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport firebase from 'firebase'\nimport 'firebase/firestore'\nimport 'firebase/auth'\n\n\n// Initialize Firebase\nfirebase.initializeApp(\n  {\n    apiKey: \"AIzaSyClxns3GYA-V9RmgDIDQkNtTwZy59ugfuQ\",\n    authDomain: \"chat-react-2ff9d.firebaseapp.com\",\n    projectId: \"chat-react-2ff9d\",\n    storageBucket: \"chat-react-2ff9d.appspot.com\",\n    messagingSenderId: \"560825640305\",\n    appId: \"1:560825640305:web:100e2fdb7d31233c2002d0\"\n  }\n);\n  // useContext - хук для передачи пропсов минуя родительско-дочернюю связь\nexport const Context = createContext(null)\nconst authorization = firebase.auth()\nconst firestore = firebase.firestore()\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Context.Provider  value ={{\n      firebase,\n      authorization, \n      firestore\n    }}>\n    <App />\n    </Context.Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}