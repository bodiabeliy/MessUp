(this.webpackJsonpdialog=this.webpackJsonpdialog||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return G}));var a=n(1),c=n.n(a),i=n(17),r=n.n(i),s=(n(85),n(19)),o=n(40),j=n(31),l=n(136),d=n(139),b=n(147),u=n(140),h="/login",O="/chat",x=n(6);var p=function(){var e=Object(a.useContext)(G).authorization,t=Object(j.a)(e),n=Object(s.a)(t,1)[0];return Object(x.jsx)(l.a,{className:"navbar_container",position:"static",children:Object(x.jsx)(d.a,{children:Object(x.jsx)(u.a,{container:!0,justify:"flex-end",children:n?Object(x.jsx)(a.Fragment,{children:Object(x.jsx)(o.b,{className:"navbar_link",to:O,children:Object(x.jsx)(b.a,{onClick:function(){e.signOut()},className:"navbar_logBtn",variant:"outlined",color:"inherit",children:"\u0412\u044b\u0439\u0442\u0438"})})}):Object(x.jsx)(a.Fragment,{children:Object(x.jsx)(o.b,{className:"navbar_link",to:"/",children:Object(x.jsx)(b.a,{variant:"outlined",color:"inherit",children:"\u041b\u043e\u0433\u0438\u043d"})})})})})})},f=n(18),v=n(44),g=n.n(v),m=n(53),y=n(141),C=n(146),w=n(149),N=n(142),k=n(30);var I=function(){var e=Object(a.useState)(!0),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(a.useContext)(G).authorization,r=function(){var e=Object(m.a)(g.a.mark((function e(){var t,n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new k.a.auth.GoogleAuthProvider,e.next=3,i.signInWithPopup(t);case 3:n=e.sent,a=n.user,console.log(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{children:Object(x.jsx)(y.a,{children:Object(x.jsx)(u.a,{className:"form-grid_container",container:!0,style:{height:window.innerHeight-50},justify:"center",alignItems:"center",children:Object(x.jsx)(u.a,{p:5,container:!0,alignItems:"center",justify:"center",children:Object(x.jsx)(C.a,{children:Object(x.jsx)(w.a,{open:n,onClose:function(){c(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:Object(x.jsx)(N.a,{children:Object(x.jsx)(b.a,{onClick:r,variant:"outlined",children:"\u0412\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Google"})})})})})})})})},_=n(144),z=n(150),A=n(143),F=n(71);var S=function(){return Object(x.jsx)("div",{children:Object(x.jsx)(y.a,{children:Object(x.jsx)(u.a,{className:"form-grid_container",container:!0,style:{height:window.innerHeight-50},justify:"center",alignItems:"center",children:Object(x.jsx)(u.a,{p:5,container:!0,alignItems:"center",justify:"center",children:Object(x.jsxs)("div",{class:"lds-roller",children:[Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{}),Object(x.jsx)("div",{})]})})})})})};var B=[{path:h,Component:I}],P=[{path:O,Component:function(){var e=Object(a.useContext)(G),t=e.authorization,n=e.firestore,c=Object(j.a)(t),i=Object(s.a)(c,1)[0],r=Object(a.useState)(""),o=Object(s.a)(r,2),l=o[0],d=o[1],h=Object(F.a)(n.collection("messages").orderBy("createdAt")),O=Object(s.a)(h,2),p=O[0];function f(){return(f=Object(m.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.collection("messages").add({uid:i.uid,displayName:i.displayName,photoAvatar:i.photoURL,text:l,createdAt:k.a.firestore.FieldValue.serverTimestamp()}),d("");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return O[1]?Object(x.jsx)(S,{}):Object(x.jsx)("div",{children:Object(x.jsx)(y.a,{children:Object(x.jsxs)(u.a,{container:!0,style:{height:window.innerHeight-50},justify:"center",children:[Object(x.jsx)("div",{className:"chat__field",children:p.map((function(e){return Object(x.jsxs)("div",{className:"chat__sendMessage",style:{background:i.uid===e.uid?"#e1e1e1":"#caa3ff",marginLeft:i.uid===e.uid?"1%":"39%"},children:[Object(x.jsx)(u.a,{container:!0,style:{padding:"10px"},children:Object(x.jsxs)("div",{style:{display:"flex"},children:[Object(x.jsx)(z.a,{src:e.photoAvatar}),Object(x.jsx)(A.a,{children:Object(x.jsxs)("b",{className:"chat__personName",children:[" ",e.displayName]})})]})}),Object(x.jsx)(A.a,{justify:"flex-end",variant:"p",children:e.text})]})}))}),Object(x.jsxs)(u.a,{container:!0,direction:"column",alignItems:"flex-end",style:{width:"80%"},children:[Object(x.jsx)(_.a,{variant:"outlined",fullWidth:!0,rowsMax:2,value:l,onChange:function(e){return d(e.target.value)}}),Object(x.jsx)(b.a,{onClick:function(){return f.apply(this,arguments)},style:{marginTop:"20px",background:"#a273e4",color:"white"},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})})})}}];var T=function(){var e=Object(a.useContext)(G).authorization,t=Object(j.a)(e),n=Object(s.a)(t,1)[0];return console.log(n),n?Object(x.jsxs)(f.d,{children:[P.map((function(e){var t=e.path,n=e.Component;return Object(x.jsx)(f.b,{path:t,component:n,exect:!0},t)})),Object(x.jsx)(f.a,{to:O})]}):Object(x.jsxs)(f.d,{children:[B.map((function(e){var t=e.path,n=e.Component;return Object(x.jsx)(f.b,{path:t,component:n,exect:!0},t)})),Object(x.jsx)(f.a,{to:h})]})};var D=function(){var e=Object(a.useContext)(G).authorization,t=Object(j.a)(e);return Object(s.a)(t,1)[0],Object(x.jsxs)(o.a,{children:[Object(x.jsx)(p,{}),Object(x.jsx)(T,{})]})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,153)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};n(99),n(100);k.a.initializeApp({apiKey:"AIzaSyClxns3GYA-V9RmgDIDQkNtTwZy59ugfuQ",authDomain:"chat-react-2ff9d.firebaseapp.com",projectId:"chat-react-2ff9d",storageBucket:"chat-react-2ff9d.appspot.com",messagingSenderId:"560825640305",appId:"1:560825640305:web:100e2fdb7d31233c2002d0"});var G=Object(a.createContext)(null),H=k.a.auth(),M=k.a.firestore();r.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(G.Provider,{value:{firebase:k.a,authorization:H,firestore:M},children:Object(x.jsx)(D,{})})}),document.getElementById("root")),L()},85:function(e,t,n){}},[[101,1,2]]]);
//# sourceMappingURL=main.3607c142.chunk.js.map