{"version":3,"sources":["utils/consts.js","components/Navbar.js","components/Login.js","components/Chat.js","routes.js","components/AppRouter.js","App.js","reportWebVitals.js","index.js"],"names":["LOGIN_ROUTE","CHAT_ROUTE","Navbar","authorization","useContext","Context","useAuthState","user","AppBar","className","position","Toolbar","Grid","container","justify","to","Button","onClick","signOut","variant","color","Login","useState","open","setOpen","a","provider","firebase","auth","GoogleAuthProvider","signInWithPopup","console","log","Container","style","height","window","innerHeight","alignItems","p","Box","Dialog","onClose","aria-labelledby","aria-describedby","DialogActions","Chat","publicRoutes","path","Component","privateRoutes","firestore","values","setValue","useCollectionData","collection","orderBy","messages","add","uid","displayName","photoAvatar","photoURL","text","createdAt","FieldValue","serverTimestamp","map","message","background","marginLeft","Avatar","marginRight","src","fontSize","textAlign","toDate","toString","substring","direction","width","spacing","item","TextField","multiline","fullWidth","id","label","onChange","e","target","value","marginTop","get","then","querySnapshot","docs","doc","ref","delete","startIcon","AppRouter","component","exect","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","createContext","ReactDOM","render","StrictMode","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.8e978349.chunk.js","sourcesContent":["export const LOGIN_ROUTE = '/login'\r\nexport const CHAT_ROUTE = '/chat'\r\nexport const EXIT = '/'","import React, { Fragment, useContext } from 'react';\r\nimport { Link } from 'react-router-dom'; \r\n\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { CHAT_ROUTE, EXIT } from '../utils/consts';\r\nimport {useAuthState} from 'react-firebase-hooks/auth'\r\nimport {Context} from '../index'\r\n\r\nfunction Navbar() {\r\n\r\n const {authorization} = useContext(Context)\r\n const [user] = useAuthState(authorization)\r\n\r\n return (\r\n  <AppBar className='navbar_container' position=\"static\">\r\n  <Toolbar>\r\n   <Grid container justify={'flex-end'}>\r\n    {user ? \r\n     <Fragment>\r\n      <Link \r\n       className='navbar_link'\r\n       to={CHAT_ROUTE}\r\n       >\r\n        <Button onClick={() => {authorization.signOut()}} className='navbar_logBtn' variant={'outlined'} color=\"inherit\">Выйти</Button>\r\n      </Link>\r\n     </Fragment>\r\n     :\r\n     <Fragment>\r\n     <Link \r\n      className='navbar_link'\r\n      to={EXIT}\r\n      >\r\n     <Button variant={'outlined'} color=\"inherit\">Логин</Button>\r\n     </Link>\r\n    </Fragment>\r\n    }\r\n   </Grid>\r\n\r\n  </Toolbar>\r\n</AppBar>\r\n );\r\n}\r\n\r\nexport default Navbar;","import React, {useContext, useState} from 'react';\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport {Context} from '../index'\r\nimport firebase from 'firebase'\r\n\r\nfunction Login() {\r\n\r\n const [open, setOpen] = useState(true);\r\n\r\n  const ShowBtnPopup = () => {\r\n    setOpen(false);\r\n  };\r\n  // useContext - хук для передачи пропсов минуя родительско-дочернюю связь\r\n  const {authorization} = useContext(Context)\r\n  // вхлд с помощью системы\r\n  const Login = async() => {\r\n    const provider = new firebase.auth.GoogleAuthProvider()\r\n    const {user} = await authorization.signInWithPopup(provider)\r\n    console.log(user);\r\n  }\r\n return (\r\n  <div>\r\n   <Container>\r\n   <Grid \r\n    className='form-grid_container' \r\n    container \r\n    style={{height: window.innerHeight - 50}}\r\n    justify={'center'}\r\n    alignItems={'center'}\r\n    >\r\n     <Grid p={5}\r\n      container\r\n      alignItems={'center'}\r\n      justify={'center'}\r\n     >\r\n     <Box>\r\n     <Dialog\r\n        open={open}\r\n        onClose={ShowBtnPopup}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogActions>\r\n          <Button onClick={Login} variant={'outlined'}>Войти с помощью Google</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n     </Box>\r\n     </Grid>\r\n\r\n   </Grid>\r\n   </Container>\r\n  </div>\r\n );\r\n}\r\n\r\nexport default Login;","import React, {useContext, useState} from 'react';\r\nimport {useAuthState} from 'react-firebase-hooks/auth'\r\nimport Container from '@material-ui/core/Container';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport {useCollectionData} from 'react-firebase-hooks/firestore'\r\nimport firebase from 'firebase'\r\n\r\nimport {Context} from '../index'\r\n\r\nfunction Chat() {\r\n const {authorization, firestore} = useContext(Context)\r\n const [user] = useAuthState(authorization)\r\n const [values, setValue] = useState('')\r\n const [messages =[]] = useCollectionData(\r\n    firestore.collection('messages').orderBy('createdAt')\r\n  )\r\n // ф-я отправки сообщений\r\n  async function SendMessage () {\r\n   firestore.collection('messages').add({\r\n    uid: user.uid,\r\n    displayName: user.displayName,\r\n    photoAvatar: user.photoURL,\r\n    text: values,\r\n    createdAt: firebase.firestore.FieldValue.serverTimestamp()\r\n   })\r\n   setValue('')\r\n }\r\n\r\n\r\n function DeleteMessage() {\r\n    firestore.collection('messages')\r\n    .get()\r\n    .then(querySnapshot => {\r\n        querySnapshot.docs.map(doc => {\r\n        doc.ref.delete()\r\n        });\r\n    });\r\n }\r\n\r\n\r\n\r\n return (\r\n  <div>\r\n   <Container>\r\n    <Grid\r\n     container \r\n     style={{height: window.innerHeight - 50}}\r\n     justify={'center'}\r\n     >\r\n      <div className='chat__field'>\r\n        {messages.map(message => \r\n        \r\n          <div className=\"chat__sendMessage\"\r\n          style={{\r\n            background: user.uid === message.uid ? '#e1e1e1' : '#caa3ff',\r\n            marginLeft: user.uid === message.uid ? '0' : '15%'\r\n           }}\r\n          >\r\n            <Grid>\r\n             <div className=\"line\">\r\n             <Avatar \r\n                style={{marginRight:'8px'}}\r\n                src={message.photoAvatar}\r\n              />\r\n              <div>\r\n              <span className='chat__SendTime' style={{fontSize: '12px', textAlign: 'right', marginLeft: '82%'}}> {message.createdAt.toDate().toString().substring(16,21)}</span> <br />\r\n               <span className='chat__personName'> {message.displayName}</span> <br />\r\n                {message.text}\r\n              </div>\r\n             </div>\r\n            </Grid>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <Grid\r\n         container\r\n         direction={'column'}\r\n         alignItems={'flex-end'}\r\n         style={{width: '80%',}}\r\n        >\r\n         <Grid container spacing={1} alignItems=\"flex-end\">         \r\n          <Grid item>\r\n            <TextField\r\n                multiline\r\n                variant='filled'\r\n                fullWidth\r\n                id=\"input-with-icon-grid\" \r\n                label=\"Send message\" \r\n                onChange={e => setValue(e.target.value)}\r\n                />\r\n          </Grid>\r\n          <Grid item>\r\n            <SendIcon\r\n               color='#caa3ff'\r\n               onClick={SendMessage}\r\n            />\r\n          </Grid>\r\n            <Button\r\n            style={{marginTop: '20px'}}\r\n              onClick={DeleteMessage}\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              startIcon={<DeleteIcon />}\r\n            >\r\n              To TRUSH\r\n            </Button>\r\n        </Grid>\r\n      </Grid>\r\n    </Grid>\r\n   </Container>\r\n  </div>\r\n );\r\n}\r\n\r\nexport default Chat;","import {CHAT_ROUTE, LOGIN_ROUTE} from './utils/consts'\r\nimport Login from './components/Login'\r\nimport Chat from './components/Chat'\r\n\r\n// все доступные маршуты для пользователей\r\nexport const publicRoutes = [\r\n {\r\n  path: LOGIN_ROUTE,\r\n  Component: Login\r\n }\r\n]\r\n// только для зарегистрированых  пользователей\r\nexport const privateRoutes = [\r\n {\r\n  path: CHAT_ROUTE,\r\n  Component: Chat\r\n }\r\n \r\n]","import React, {useContext} from 'react';\r\nimport {Route, Switch, Redirect} from 'react-router-dom'\r\nimport {privateRoutes, publicRoutes} from '../routes'\r\nimport { CHAT_ROUTE, LOGIN_ROUTE } from '../utils/consts';\r\nimport {useAuthState} from 'react-firebase-hooks/auth'\r\nimport {Context} from '../index'\r\n\r\nfunction AppRouter() {\r\n // рендеринг страницы для зарегистрированого пользователя \r\n const {authorization} = useContext(Context)\r\n const [user] = useAuthState(authorization)\r\n console.log(user);\r\n return user ? \r\n   (\r\n    <Switch>\r\n     {privateRoutes.map(({path, Component}) => \r\n      <Route key={path} path={path} component={Component} exect={true} />\r\n     )}\r\n     <Redirect to={CHAT_ROUTE} />\r\n    </Switch>\r\n   )\r\n   :\r\n    // рендеринг страницы для зарегистрированого пользователя \r\n   (\r\n    <Switch>\r\n      {publicRoutes.map(({path, Component}) => \r\n        <Route key={path} path={path} component={Component} exect={true} />\r\n      )}\r\n      <Redirect to={LOGIN_ROUTE} />\r\n    </Switch>\r\n   )\r\n}\r\n\r\nexport default AppRouter;","import React, {useContext} from 'react';\nimport { BrowserRouter } from 'react-router-dom'; \nimport {useAuthState} from 'react-firebase-hooks/auth'\nimport Navbar from './components/Navbar'\nimport AppRouter from './components/AppRouter'\nimport {Context} from './index'\n\n\nfunction App() {\n  const {authorization} = useContext(Context)\n  const [loading] = useAuthState(authorization)\n  return (\n    <BrowserRouter>\n      <Navbar />\n      <AppRouter />\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { createContext } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport firebase from 'firebase'\nimport 'firebase/firestore'\nimport 'firebase/auth'\n\n\n// Initialize Firebase\nfirebase.initializeApp(\n  {\n    apiKey: \"AIzaSyClxns3GYA-V9RmgDIDQkNtTwZy59ugfuQ\",\n    authDomain: \"chat-react-2ff9d.firebaseapp.com\",\n    projectId: \"chat-react-2ff9d\",\n    storageBucket: \"chat-react-2ff9d.appspot.com\",\n    messagingSenderId: \"560825640305\",\n    appId: \"1:560825640305:web:100e2fdb7d31233c2002d0\"\n  }\n);\n  // useContext - хук для передачи пропсов минуя родительско-дочернюю связь\nexport const Context = createContext(null)\nconst authorization = firebase.auth()\nconst firestore = firebase.firestore()\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Context.Provider  value ={{\n      firebase,\n      authorization, \n      firestore\n    }}>\n    <App />\n    </Context.Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}